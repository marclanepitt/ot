{%extends 'blog_site_base.html'%}
{%load staticfiles%}

<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">


{% block title %}
    
{% endblock title %}

{% block extra_css %}
    <link href="{% static 'css/blog-post.css' %}" rel="stylesheet">
{% endblock extra_css %}
</head>

{% block content %}
    

<body>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <!-- Blog Post Content Column -->
            <div class="col-lg-8">

                <!-- Blog Post -->

                <!-- Title -->
                <br>
                <h1>{{article.title}}</h1>

                <!-- Author -->


                <!-- Preview Image -->
            <br>
                <img id="title_bounds" class="img-responsive" src="{{ article.pic }}" alt="">


                <hr>

                <!-- Date/Time -->
                <p class="lead">
                    by {{ article.author }}
                    <img id="author_pic" class="img-circle img-responsive img-center" src="{{ article.author_pic }}"
                         alt="">
                </p>

                <hr>

                <hr>

                <!-- Post Content -->
                <p class="lead">{{article.description}}</p>

                {%if article.category == "Blog" %}

                {{article.text | linebreaks}}
                
                {%endif%}

                {%if article.category == "List"%}
                    <br>
                    {% for listitem in article.listitem_set.all %}
                        <hr>
                        <h1>{{ listitem.title }}</h1>
                        <img id="img_bounds" class="img-responsive" src="{{ listitem.pic }}" alt="">
                        <p>{{ listitem.description |linebreaks }}</p>
                        <br> <br><br>
                        </hr>

                    {% endfor %}
                    

                {%endif%}

                {%if article.category == "Countdown"%}

                    <br>
                    <div id="countdown">
                    {% for countdownitem in article.countdownitem_set.all %}
                        <div id="slides" class = slides>
                        <h2> {{ forloop.revcounter }}. {{ countdownitem.title }}</h2>
                        <img id="cd_img_bounds" class="img-responsive" src="{{ countdownitem.pic }}" alt="">
                        <p>{{ countdownitem.description |linebreaks }}</p>
                        </div>




                    {% endfor %}
                    <br>


                    </div>
                    <div id="arrows">
                        <i class="glyphicon glyphicon-circle-arrow-left" onclick="plusDivs(-1)"></i>
                        <i class="glyphicon glyphicon-circle-arrow-right" onclick="plusDivs(+1)"></i>
                    </div>


                {%endif%}

                <hr>
            </div>
        </div>
    </div>
</body>
{% endblock content %}

{% block extra_js %}
    <script>
        var slideIndex = 1;
        showDivs(slideIndex);

        function plusDivs(n) {
            showDivs(slideIndex += n);
        }

        function showDivs(n) {
            var i;
            var x = document.getElementsByClassName("slides");
            if (n > x.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = x.length
            }
            ;
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex - 1].style.display = "block";
        }
    </script>
{% endblock %}
